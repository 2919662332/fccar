{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Code/it-faccar/it-fccar-ui/it-fccar-ui-customer/pages/create_order/create_order.vue?d866","webpack:///D:/Code/it-faccar/it-fccar-ui/it-fccar-ui-customer/pages/create_order/create_order.vue?a591","webpack:///D:/Code/it-faccar/it-fccar-ui/it-fccar-ui-customer/pages/create_order/create_order.vue?f4a3","webpack:///D:/Code/it-faccar/it-fccar-ui/it-fccar-ui-customer/pages/create_order/create_order.vue?7deb","uni-app:///pages/create_order/create_order.vue","webpack:///D:/Code/it-faccar/it-fccar-ui/it-fccar-ui-customer/pages/create_order/create_order.vue?8f2d","webpack:///D:/Code/it-faccar/it-fccar-ui/it-fccar-ui-customer/pages/create_order/create_order.vue?b896"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","from","address","longitude","latitude","to","contentStyle","windowHeight","distance","duration","polyline","markers","infoStatus","car","carId","carPlate","carType","showCar","showPopup","timestamp","timestampStaring","orderNo","map","acceptOrderTimer","uModalShow","inPorcessOrderId","methods","countChangeHandle","_this","success","message","uni","url","cancelHandle","title","icon","countDownCancelHandle","createOrderHandle","startPlace","endPlace","startPlaceLongitude","startPlaceLatitude","endPlaceLongitude","endPlaceLatiude","expectsMileage","expectMinutes","chooseCarHandle","initStyle","initMap","qqmapsdk","key","drawLine","mode","pl","coors","points","width","color","arrowLine","id","iconPath","height","fail","console","complete","onLoad","onShow","onUnload"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAuoB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6E3pB;AACA;AAAA,eACA;EACAC;IACA;MACA;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAH;QACAC;QACAC;MACA;MACA;MACAE;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MAEA;MACAC;MACAC;QACA;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;IACA;IACAC;MACA;MACAC;QACA;UAAAC;UAAAC;UAAA9B;QACA;UACA4B;UACAA;UACAG;YACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACAL;MACAA;MACAA;MACAG;MACAH;QACA;UAAA5B;UAAA8B;UAAAD;QACA;UACAE;YACAG;YAAAC;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACAR;MACAA;MACAG;MACAH;QACA;UAAA5B;UAAA8B;UAAAD;QACA;UACAE;YACAG;YAAAC;UACA;QACA;MACA;IACA;IAEA;IACAE;MAAA;MACA;MACA;QACA;QACAC;QACAC;QACA;QACAC;QACAC;QACAC;QACAC;QACA;QACAC;QACAC;QACA;QACA9B;QACAC;MACA;MACAY;QACA;UAAAC;UAAAC;UAAA9B;QACA;UACA4B;UACA;UACAA;UACAA;UACAA;UACA;UACAG;YACA9B;YACAI;UACA;QACA;MACA;IACA;IACA;IACAyC;MACA;MACAf;QACAC;MACA;IACA;IACA;IACAe;MACA;MACA;MACA;MACAnB;MACAA;IACA;IACA;IACAoB;MACA;MACA;MACAC;QACAC;MACA;MACA;MACAtB;IACA;IACA;IACAuB;MACA;MACA;MACAF;QACA;QACAG;QACA;QACAnD;UACAE;UACAC;QACA;QACAC;UACAF;UACAC;QACA;QACAyB;UAEA;UACA;YAAAwB;UACA;UACA;UACA;UACA;UACAzB;UACAA;;UAGA;UACA;UACA;YACA0B;UACA;UACA;UACA;YACAD;cAAAjD;cAAAD;YAAA;UACA;;UAEA;UACAyB;YACA2B;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;UACA;UACA;UACA9B,iBACA;YACA+B;YACAvD;YACAD;YACA+B;YACA0B;YACAJ;YACAK;UACA,GACA;YACAF;YACAvD;YACAD;YACA+B;YACA0B;YACAJ;YACAK;UACA,EACA;QACA;QACAC;UACAC;QACA;QACAC;UACAD;QACA;MACA;IACA;EACA;EACAE;IACA;IACArC;IACAA;IACA;IACAA;IACAA;IACA;IACAA;IACA;MACAA;MACAA;MACAA;IACA;EAEA;EACAsC;IACA;IACA;IACA;IACA;MACAtC;MACAA;IACA;IACAA;IACAA;EACA;EACAuC,+BACA;AACA;AAAA,2B;;;;;;;;;;;;;AClVA;AAAA;AAAA;AAAA;AAA0qC,CAAgB,skCAAG,EAAC,C;;;;;;;;;;;ACA9rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/create_order/create_order.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/create_order/create_order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./create_order.vue?vue&type=template&id=58a8cc34&\"\nvar renderjs\nimport script from \"./create_order.vue?vue&type=script&lang=js&\"\nexport * from \"./create_order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create_order.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/create_order/create_order.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=template&id=58a8cc34&\"","var components\ntry {\n  components = {\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uCountDown: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-count-down/u-count-down\" */ \"@/uview-ui/components/u-count-down/u-count-down.vue\"\n      )\n    },\n    uTopTips: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-top-tips/u-top-tips\" */ \"@/uview-ui/components/u-top-tips/u-top-tips.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"address-container\">\n\t\t\t<view class=\"from\">\n\t\t\t\t<text>{{ from.address }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"dashed-line\"></view>\n\t\t\t<view class=\"to\">\n\t\t\t\t<text>{{ to.address }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<view v-if=\"inPorcessOrderId != null\" class=\"order-process\" @click=\"toInProcessOrder\">您有进行中的订单,点击查看</view>\n\t\t<map\n\t\t\tid=\"map\"\n\t\t\t:longitude=\"from.longitude\"\n\t\t\t:latitude=\"from.latitude\"\n\t\t\t:style=\"contentStyle\"\n\t\t\tscale=\"14\"\n\t\t\t:enable-traffic=\"false\"\n\t\t\t:show-location=\"true\"\n\t\t\tclass=\"map\"\n\t\t\t:polyline=\"polyline\"\n\t\t\t:markers=\"markers\"\n\t\t></map>\n\n\t\t<view class=\"panel\">\n\t\t\t<view class=\"row\">\n\t\t\t\t<view class=\"info\">\n\t\t\t\t\t<view class=\"label\">全程</view>\n\t\t\t\t\t<view class=\"value\">\n\t\t\t\t\t\t<text>{{ distance }}</text>\n\t\t\t\t\t\t公里\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"label\">，预计</view>\n\t\t\t\t\t<view class=\"value\">\n\t\t\t\t\t\t<text>{{ duration }}</text>\n\t\t\t\t\t\t分钟\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"opt\" @tap=\"chooseCarHandle\" v-if=\"!showCar\">选择车辆</view>\n\t\t\t\t<view class=\"opt\" @tap=\"chooseCarHandle\" v-if=\"showCar\">{{ car.carType }}{{ car.carPlate }}</view>\n\t\t\t</view>\n\t\t\t<button class=\"btn\" @tap=\"createOrderHandle\">呼叫代驾</button>\n\t\t</view>\n\t\t<u-popup v-model=\"showPopup\" mode=\"center\" width=\"600\" height=\"280\" :mask-close-able=\"false\">\n\t\t\t<view class=\"popup-title\">您的订单正在等待司机接单</view>\n\t\t\t<view class=\"count-down\">\n\t\t\t\t<u-count-down\n\t\t\t\t\tref=\"uCountDown\"\n\t\t\t\t\t:timestamp=\"timestamp\"\n\t\t\t\t\t:autoplay=\"false\"\n\t\t\t\t\tseparator=\"zh\"\n\t\t\t\t\t:show-hours=\"false\"\n\t\t\t\t\t:show-border=\"true\"\n\t\t\t\t\tbg-color=\"#DDF0FF\"\n\t\t\t\t\tseparator-color=\"#0083F3\"\n\t\t\t\t\tborder-color=\"#0D90FF\"\n\t\t\t\t\tcolor=\"#0D90FF\"\n\t\t\t\t\tfont-size=\"32\"\n\t\t\t\t\t@end=\"countDownCancelHandle\"\n\t\t\t\t\t@change=\"countChangeHandle\"\n\t\t\t\t></u-count-down>\n\t\t\t\t\n\t\t\t</view>\n\t\t\t<button class=\"btn\" @tap=\"cancelHandle\">取消订单</button>\n\t\t</u-popup>\n\t\t\n\t\t<u-top-tips ref=\"uTips\"></u-top-tips>\n\t\t<u-modal v-model=\"uModalShow\" \n\t\tshow-confirm-button=\"继续等待\"\n\t\tshow-cancel-button=\"确定取消\"\n\t\t@confirm=\"confirm\" ref=\"uModal\" :async-close=\"true\"></u-modal>\n\n\t</view>\n</template>\n\n<script>\nlet QQMapWX = require('../../lib/qqmap-wx-jssdk.min.js');\nlet qqmapsdk;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t//订单路线：开始位置和结束位子\n\t\t\tfrom: {\n\t\t\t\taddress: '',\n\t\t\t\tlongitude: 0,\n\t\t\t\tlatitude: 0\n\t\t\t},\n\t\t\tto: {\n\t\t\t\taddress: '',\n\t\t\t\tlongitude: 0,\n\t\t\t\tlatitude: 0\n\t\t\t},\n\t\t\t//窗口样式\n\t\t\tcontentStyle: '',\n\t\t\twindowHeight: 0,\n\t\t\t//距离和时长\n\t\t\tdistance: 0,\n\t\t\tduration: 0,\n\t\t\t//路线规划，路线坐标和图标\n\t\t\tpolyline: [],\n\t\t\tmarkers: [],\n\t\t\t\n\t\t\t//\n\t\t\tinfoStatus: true,\n\t\t\tcar:{\n\t\t\t\t//乘客选择的车辆\n\t\t\t\tcarId: null,\n\t\t\t\tcarPlate: null,\n\t\t\t\tcarType: null,\n\t\t\t},\n\t\t\tshowCar: false,\n\t\t\tshowPopup: false,\n\t\t\ttimestamp: 60,\n\t\t\ttimestampStaring:false,\n\t\t\torderNo: null,\n\t\t\t//地图组件\n\t\t\tmap:null,\n\t\t\t//接单的定时任务\n\t\t\tacceptOrderTimer:null,\n\t\t\tuModalShow:false,\n\t\t\t//是否有进行中的订单\n\t\t\tinPorcessOrderId:null\n\t\t};\n\t},\n\tmethods: {\r\n\t\t//每次计数器发生改变就去redis查询订单数据，\r\n\t\t//如果订单状态为已经接单就跳转页面，（司机接单后将订单缓存到redis）\r\n\t\tcountChangeHandle(){\r\n\t\t\tlet _this = this;\r\n\t\t\t_this.post(\"/order/app/order/selectOrderStatus/\"+_this.orderNo,(res)=>{\r\n\t\t\t\tlet {success,message,data} = res.data;\r\n\t\t\t\tif(success && data){\r\n\t\t\t\t\t_this.timestamp=0;\r\n\t\t\t\t\t_this.inPorcessOrderId = true;\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'/pages/move/move?orderNo='+_this.orderNo\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t//乘客点击取消订单\r\n\t\tcancelHandle(){\r\n\t\t\tlet _this = this;\r\n\t\t\t_this.showPopup = false;\r\n\t\t\t_this.inPorcessOrderId = null;\r\n\t\t\t_this.timestamp=0;\r\n\t\t\tuni.removeStorageSync(\"location\")\r\n\t\t\t_this.post(\"/order/app/order/handCancelOrder\",(res)=>{\r\n\t\t\t\tlet {data,message,success} = res.data;\r\n\t\t\t\tif(success){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"订单已取消\",icon:'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t//订单倒计时结束关闭窗口，结束订单\r\n\t\tcountDownCancelHandle(){\r\n\t\t\tlet _this = this;\r\n\t\t\t_this.showPopup = false;\r\n\t\t\t_this.inPorcessOrderId = null;\r\n\t\t\tuni.removeStorageSync(\"location\")\r\n\t\t\t_this.post(\"/order/app/order/autoCancelOrder\",(res)=>{\r\n\t\t\t\tlet {data,message,success} = res.data;\r\n\t\t\t\tif(success){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"订单已自动取消\",icon:'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t//呼叫代驾\r\n\t\tcreateOrderHandle(){\r\n\t\t\tlet _this = this;\r\n\t\t\tvar params = {\r\n\t\t\t\t//开始位置和结束位置\r\n\t\t\t\tstartPlace:_this.from.address,\r\n\t\t\t\tendPlace:_this.to.address,\r\n\t\t\t\t//开始坐标和结束坐标\r\n\t\t\t\tstartPlaceLongitude:_this.from.longitude,\r\n\t\t\t\tstartPlaceLatitude:_this.from.latitude,\r\n\t\t\t\tendPlaceLongitude:_this.to.longitude,\r\n\t\t\t\tendPlaceLatiude:_this.to.latitude,\r\n\t\t\t\t//距离和时长\r\n\t\t\t\texpectsMileage:_this.distance,\r\n\t\t\t\texpectMinutes:_this.duration,\r\n\t\t\t\t//车牌号\r\n\t\t\t\tcarPlate:_this.car.carPlate,\r\n\t\t\t\tcarType:_this.car.carType\r\n\t\t\t}\r\n\t\t\t_this.post(\"/order/app/order/createOrder\",params,(res)=>{\r\n\t\t\t\tlet {success,message,data} = res.data;\r\n\t\t\t\tif(success){\r\n\t\t\t\t\t_this.showPopup = true;\r\n\t\t\t\t\tthis.$refs.uCountDown.start();\r\n\t\t\t\t\t_this.timestamp=30\r\n\t\t\t\t\t_this.orderNo = data\r\n\t\t\t\t\t_this.inPorcessOrderId = true\r\n\t\t\t\t\t//将订单的from to car 存到缓存\r\n\t\t\t\t\tuni.setStorageSync(\"location\",{\r\n\t\t\t\t\t\tfrom:_this.from,\r\n\t\t\t\t\t\tto:_this.to\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\n\t\t//选择车辆\n\t\tchooseCarHandle(){\n\t\t\tlet _this = this;\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"/pages/car_list/car_list\"\n\t\t\t})\n\t\t},\n\t\t//初始化窗口样式\n\t\tinitStyle(){\n\t\t\tlet _this = this;\n\t\t\t//处理窗口样式\n\t\t\tlet windowHeight = uni.getSystemInfoSync().windowHeight;\n\t\t\t_this.windowHeight = windowHeight;\n\t\t\t_this.contentStyle = `height:${_this.windowHeight}px;`;\n\t\t},\n\t\t//初始化地图\n\t\tinitMap(){\n\t\t\tlet _this = this;\n\t\t\t//腾讯地图\n\t\t\tqqmapsdk = new QQMapWX({\n\t\t\t    key: _this.Consts.QQMAP_KEY\n\t\t\t}); \n\t\t\t//uniapp地图\n\t\t\t_this.map = uni.createMapContext(\"map\", this);\n\t\t},\n\t\t//画线\n\t\tdrawLine(){\n\t\t\tlet _this = this;\n\t\t\t//调用距离计算接口\n\t\t\tqqmapsdk.direction({\n\t\t\t  //可选值：'driving'（驾车）、'walking'（步行）、'bicycling'（骑行），不填默认：'driving',可不填\n\t\t\t  mode: 'driving',\n\t\t\t  //from参数不填默认当前地址\n\t\t\t  from: {\n\t\t\t\t  longitude: _this.from.longitude,\n\t\t\t\t  latitude: _this.from.latitude\n\t\t\t  },\n\t\t\t  to: {\n\t\t\t\t longitude: _this.to.longitude,\n\t\t\t\t latitude: _this.to.latitude \n\t\t\t  },\n\t\t\t  success: function (res) {\n\t\t\t\t\n\t\t\t\tvar ret = res;\n\t\t\t\tvar coors = ret.result.routes[0].polyline, pl = [];\n\t\t\t\t//距离 ： 千米\n\t\t\t\tlet distance = ret.result.routes[0].distance / 1000.0;\n\t\t\t\t//时长 \n\t\t\t\tlet duration = ret.result.routes[0].duration;\n\t\t\t\t_this.distance = distance;\n\t\t\t\t_this.duration = duration;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t//坐标解压（返回的点串坐标，通过前向差分进行压缩）\n\t\t\t\tvar kr = 1000000;\n\t\t\t\tfor (var i = 2; i < coors.length; i++) {\n\t\t\t\t  coors[i] = Number(coors[i - 2]) + Number(coors[i]) / kr;\n\t\t\t\t}\n\t\t\t\t//将解压后的坐标放入点串数组pl中\n\t\t\t\tfor (var i = 0; i < coors.length; i += 2) {\n\t\t\t\t  pl.push({ latitude: coors[i], longitude: coors[i + 1] })\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//设置polyline属性，将路线显示出来,将解压坐标第一个数据作为起点\n\t\t\t\t_this.polyline = [{\n\t\t\t\t\tpoints:pl,\t//路线坐标点-数组\n\t\t\t\t\twidth:4, //线条宽度\n\t\t\t\t\tcolor:\"#ff0000\" , //线条颜色\n\t\t\t\t\tarrowLine:true\t//带箭头的线\n\t\t\t\t}];\n\t\t\t\t//在地图上画 - 开始，结束图标\n\t\t\t\t_this.markers = [\n\t\t\t\t\t{\n\t\t\t\t\t\tid:1,\n\t\t\t\t\t\tlatitude:_this.from.latitude,\n\t\t\t\t\t\tlongitude:_this.from.longitude,\n\t\t\t\t\t\ttitle:\"起点\",\n\t\t\t\t\t\ticonPath:\"https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/start.png\",\n\t\t\t\t\t\twidth:26,\n\t\t\t\t\t\theight:35\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:2,\n\t\t\t\t\t\tlatitude:_this.to.latitude,\n\t\t\t\t\t\tlongitude:_this.to.longitude,\n\t\t\t\t\t\ttitle:\"终点\",\n\t\t\t\t\t\ticonPath:\"https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/end.png\",\n\t\t\t\t\t\twidth:26,\n\t\t\t\t\t\theight:35\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t  },\n\t\t\t  fail: function (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t  },\n\t\t\t  complete: function (res) {\n\t\t\t\tconsole.log(res);\n\t\t\t  }\n\t\t\t});\n\t\t}\n\t},\n\tonLoad: function(options) {\n\t\tlet _this = this;\n\t\t_this.initStyle();\n\t\t_this.initMap();\n\t\t//拿到位置信息\n\t\t_this.from = uni.getStorageSync(\"location\").from;\n\t\t_this.to = uni.getStorageSync(\"location\").to;\n\t\t//路线规划\n\t\t_this.drawLine();\r\n\t\tif(options.orderNo){\r\n\t\t\t_this.showPopup = options.showPopup\r\n\t\t\t_this.timestamp = 15\r\n\t\t\t_this.orderNo = options.orderNo\r\n\t\t}\r\n\t\t\n\t},\n\tonShow: function() {\n\t\tlet _this = this;\n\t\t//回填车辆\n\t\tlet car = uni.getStorageSync(\"car\");\n\t\tif(car){\n\t\t\t_this.showCar = true;\n\t\t\t_this.car = car;\n\t\t}\n\t\t_this.loadInProcessOrder();\r\n\t\t_this.timestamp=0;\n\t},\n\tonUnload() {\n\t}\n};\n</script>\n\n<style lang=\"less\">\n@import url('create_order.less');\n\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1713751297212\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}